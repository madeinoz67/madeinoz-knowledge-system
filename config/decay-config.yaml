# Memory Decay Scoring Configuration
# Feature: 009-memory-decay-scoring
# See: specs/009-memory-decay-scoring/data-model.md

decay:
  # Base half-life in days (adjusted by stability factor)
  # 180 days = MODERATE memories (stability=3) decay 50% after 6 months
  # Research-backed: Provides better retention for personal knowledge graphs
  base_half_life_days: 180

  # State transition thresholds
  # These align with 180-day half-life - transitions occur when BOTH conditions met
  thresholds:
    dormant:
      days: 90           # Days inactive before ACTIVE -> DORMANT (minimum)
      decay_score: 0.3   # Decay score threshold for transition (~93 days actual)
    archived:
      days: 180          # Days inactive before DORMANT -> ARCHIVED (minimum)
      decay_score: 0.6   # Decay score threshold for transition (~238 days actual)
    expired:
      days: 360          # Days inactive before ARCHIVED -> EXPIRED (minimum)
      decay_score: 0.9   # Decay score threshold for transition (~598 days actual)
      max_importance: 3  # Only expire if importance <= this value

  # Soft-delete retention period
  retention:
    soft_delete_days: 90  # Days to retain soft-deleted memories

  # Batch processing settings
  maintenance:
    batch_size: 500             # Memories to process per batch
    max_duration_minutes: 10    # Maximum maintenance run time
    schedule_interval_hours: 24 # How often to run automatic maintenance (default: daily)
                               # Set to 0 to disable automatic scheduled maintenance

  # Search scoring weights (must sum to 1.0)
  weights:
    semantic: 0.60    # Vector similarity weight
    recency: 0.25     # Temporal freshness weight
    importance: 0.15  # Importance score weight

# Classification defaults (used when LLM unavailable)
classification:
  default_importance: 3  # MODERATE
  default_stability: 3   # MODERATE

# Permanent memory threshold
# Memories with importance >= 4 AND stability >= 4 are PERMANENT
permanent:
  importance_threshold: 4
  stability_threshold: 4

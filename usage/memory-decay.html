<!DOCTYPE html><html lang="en" class="no-js"><head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Understanding automatic memory prioritization, decay scoring, and lifecycle management in the Madeinoz Knowledge System">
      
      
        <meta name="author" content="madeinoz67">
      
      
        <link rel="canonical" href="https://madeinoz67.github.io/madeinoz-knowledge-system/usage/memory-decay.html">
      
      
        <link rel="prev" href="advanced.html">
      
      
        <link rel="next" href="monitoring.html">
      
      
        
      
      
      <link rel="icon" href="../assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Memory Decay &amp; Lifecycle Management - Madeinoz Knowledge System (PAI Pack)</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
        <script src="https://unpkg.com/iframe-worker/shim"></script>
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  <link href="../assets/stylesheets/glightbox.min.css" rel="stylesheet"><script src="../assets/javascripts/glightbox.min.js"></script><style id="glightbox-style">
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color); }
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color); }
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color); }
        </style></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="light-blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#memory-decay-lifecycle-management" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../index.html" title="Madeinoz Knowledge System (PAI Pack)" class="md-header__button md-logo" aria-label="Madeinoz Knowledge System (PAI Pack)" data-md-component="logo">
      
  <img src="../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Madeinoz Knowledge System (PAI Pack)
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Memory Decay &amp; Lifecycle Management
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="light-blue" aria-label="Switch to dark mode" type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="light-blue" aria-label="Switch to light mode" type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/madeinoz67/madeinoz-knowledge-system" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg>
  </div>
  <div class="md-source__repository">
    madeinoz67/madeinoz-knowledge-system
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../index.html" title="Madeinoz Knowledge System (PAI Pack)" class="md-nav__button md-logo" aria-label="Madeinoz Knowledge System (PAI Pack)" data-md-component="logo">
      
  <img src="../assets/logo.png" alt="logo">

    </a>
    Madeinoz Knowledge System (PAI Pack)
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/madeinoz67/madeinoz-knowledge-system" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg>
  </div>
  <div class="md-source__repository">
    madeinoz67/madeinoz-knowledge-system
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2">
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Getting Started
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../getting-started/overview.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../getting-started/quick-reference.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Quick Reference
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3">
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Installation
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Installation
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../installation/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Guide
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../installation/requirements.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Requirements
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../installation/verification.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Verification
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../installation/remote-deployment.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Remote Deployment
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../remote-access.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Remote Access
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Usage
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Usage
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="basic-usage.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Basic Usage
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="advanced.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Advanced
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Memory Decay &amp; Lifecycle
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="memory-decay.html" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Memory Decay &amp; Lifecycle
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        Overview
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#key-concepts" class="md-nav__link">
    <span class="md-ellipsis">
      
        Key Concepts
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Key Concepts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#importance-classification-1-5" class="md-nav__link">
    <span class="md-ellipsis">
      
        Importance Classification (1-5)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Importance Classification (1-5)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-it-works" class="md-nav__link">
    <span class="md-ellipsis">
      
        How it works
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stability-classification-1-5" class="md-nav__link">
    <span class="md-ellipsis">
      
        Stability Classification (1-5)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Stability Classification (1-5)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-it-works_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        How it works
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#decay-score-00-10" class="md-nav__link">
    <span class="md-ellipsis">
      
        Decay Score (0.0-1.0)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Decay Score (0.0-1.0)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#calculation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Calculation
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lifecycle-states" class="md-nav__link">
    <span class="md-ellipsis">
      
        Lifecycle States
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#weighted-search-results" class="md-nav__link">
    <span class="md-ellipsis">
      
        Weighted Search Results
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Weighted Search Results">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-search-ranking-works" class="md-nav__link">
    <span class="md-ellipsis">
      
        How Search Ranking Works
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuring-search-weights" class="md-nav__link">
    <span class="md-ellipsis">
      
        Configuring Search Weights
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lifecycle-management" class="md-nav__link">
    <span class="md-ellipsis">
      
        Lifecycle Management
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Lifecycle Management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#state-transitions" class="md-nav__link">
    <span class="md-ellipsis">
      
        State Transitions
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#permanent-memory-protection" class="md-nav__link">
    <span class="md-ellipsis">
      
        Permanent Memory Protection
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Permanent Memory Protection">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#use-cases" class="md-nav__link">
    <span class="md-ellipsis">
      
        Use cases
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#maintenance-operations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Maintenance Operations
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Maintenance Operations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#automatic-maintenance" class="md-nav__link">
    <span class="md-ellipsis">
      
        Automatic Maintenance
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Automatic Maintenance">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#what-it-does" class="md-nav__link">
    <span class="md-ellipsis">
      
        What it does
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-verify" class="md-nav__link">
    <span class="md-ellipsis">
      
        How to verify
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#manual-maintenance" class="md-nav__link">
    <span class="md-ellipsis">
      
        Manual Maintenance
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Manual Maintenance">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#what-to-expect" class="md-nav__link">
    <span class="md-ellipsis">
      
        What to expect
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Configuration
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuration-file" class="md-nav__link">
    <span class="md-ellipsis">
      
        Configuration File
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#key-configuration-sections" class="md-nav__link">
    <span class="md-ellipsis">
      
        Key Configuration Sections
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Key Configuration Sections">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#decay-thresholds" class="md-nav__link">
    <span class="md-ellipsis">
      
        Decay Thresholds
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#maintenance-schedule" class="md-nav__link">
    <span class="md-ellipsis">
      
        Maintenance Schedule
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#search-weights" class="md-nav__link">
    <span class="md-ellipsis">
      
        Search Weights
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#monitoring-observability" class="md-nav__link">
    <span class="md-ellipsis">
      
        Monitoring &amp; Observability
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Monitoring &amp; Observability">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#grafana-dashboard" class="md-nav__link">
    <span class="md-ellipsis">
      
        Grafana Dashboard
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#health-endpoint" class="md-nav__link">
    <span class="md-ellipsis">
      
        Health Endpoint
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      
        Troubleshooting
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Troubleshooting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#memories-decaying-too-fast" class="md-nav__link">
    <span class="md-ellipsis">
      
        Memories Decaying Too Fast
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#maintenance-not-running" class="md-nav__link">
    <span class="md-ellipsis">
      
        Maintenance Not Running
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#poor-search-results" class="md-nav__link">
    <span class="md-ellipsis">
      
        Poor Search Results
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#advanced-topics" class="md-nav__link">
    <span class="md-ellipsis">
      
        Advanced Topics
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Advanced Topics">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#soft-delete-recovery" class="md-nav__link">
    <span class="md-ellipsis">
      
        Soft-Delete Recovery
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Soft-Delete Recovery">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#recovery-process" class="md-nav__link">
    <span class="md-ellipsis">
      
        Recovery process
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bulk-import-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Bulk Import Considerations
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Bulk Import Considerations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#classification-behavior" class="md-nav__link">
    <span class="md-ellipsis">
      
        Classification behavior
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recommendations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Recommendations
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-decay-curves" class="md-nav__link">
    <span class="md-ellipsis">
      
        Custom Decay Curves
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Custom Decay Curves">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#half-life-adjustment" class="md-nav__link">
    <span class="md-ellipsis">
      
        Half-life adjustment
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#related-documentation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Related Documentation
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#acknowledgments" class="md-nav__link">
    <span class="md-ellipsis">
      
        Acknowledgments
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="monitoring.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Monitoring
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="backup-restore.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Backup &amp; Restore
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5">
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Concepts
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Concepts
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../concepts/architecture.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../concepts/knowledge-graph.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Knowledge Graph
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../concepts/hooks-integration.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Hooks &amp; Integration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6">
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Troubleshooting
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Troubleshooting
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../troubleshooting/common-issues.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Common Issues
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../troubleshooting/known-issues.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Known Issues
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7">
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Reference
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/cli.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CLI
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/configuration.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/observability.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Observability &amp; Metrics
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/cache-implementation.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Cache Implementation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/model-guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Model Guide
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/benchmarks.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Benchmarks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/developer-notes.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Developer Notes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/releases.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Release Process
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../acknowledgments.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Acknowledgments
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        Overview
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#key-concepts" class="md-nav__link">
    <span class="md-ellipsis">
      
        Key Concepts
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Key Concepts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#importance-classification-1-5" class="md-nav__link">
    <span class="md-ellipsis">
      
        Importance Classification (1-5)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Importance Classification (1-5)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-it-works" class="md-nav__link">
    <span class="md-ellipsis">
      
        How it works
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stability-classification-1-5" class="md-nav__link">
    <span class="md-ellipsis">
      
        Stability Classification (1-5)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Stability Classification (1-5)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-it-works_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        How it works
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#decay-score-00-10" class="md-nav__link">
    <span class="md-ellipsis">
      
        Decay Score (0.0-1.0)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Decay Score (0.0-1.0)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#calculation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Calculation
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lifecycle-states" class="md-nav__link">
    <span class="md-ellipsis">
      
        Lifecycle States
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#weighted-search-results" class="md-nav__link">
    <span class="md-ellipsis">
      
        Weighted Search Results
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Weighted Search Results">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-search-ranking-works" class="md-nav__link">
    <span class="md-ellipsis">
      
        How Search Ranking Works
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuring-search-weights" class="md-nav__link">
    <span class="md-ellipsis">
      
        Configuring Search Weights
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lifecycle-management" class="md-nav__link">
    <span class="md-ellipsis">
      
        Lifecycle Management
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Lifecycle Management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#state-transitions" class="md-nav__link">
    <span class="md-ellipsis">
      
        State Transitions
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#permanent-memory-protection" class="md-nav__link">
    <span class="md-ellipsis">
      
        Permanent Memory Protection
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Permanent Memory Protection">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#use-cases" class="md-nav__link">
    <span class="md-ellipsis">
      
        Use cases
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#maintenance-operations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Maintenance Operations
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Maintenance Operations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#automatic-maintenance" class="md-nav__link">
    <span class="md-ellipsis">
      
        Automatic Maintenance
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Automatic Maintenance">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#what-it-does" class="md-nav__link">
    <span class="md-ellipsis">
      
        What it does
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-verify" class="md-nav__link">
    <span class="md-ellipsis">
      
        How to verify
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#manual-maintenance" class="md-nav__link">
    <span class="md-ellipsis">
      
        Manual Maintenance
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Manual Maintenance">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#what-to-expect" class="md-nav__link">
    <span class="md-ellipsis">
      
        What to expect
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Configuration
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuration-file" class="md-nav__link">
    <span class="md-ellipsis">
      
        Configuration File
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#key-configuration-sections" class="md-nav__link">
    <span class="md-ellipsis">
      
        Key Configuration Sections
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Key Configuration Sections">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#decay-thresholds" class="md-nav__link">
    <span class="md-ellipsis">
      
        Decay Thresholds
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#maintenance-schedule" class="md-nav__link">
    <span class="md-ellipsis">
      
        Maintenance Schedule
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#search-weights" class="md-nav__link">
    <span class="md-ellipsis">
      
        Search Weights
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#monitoring-observability" class="md-nav__link">
    <span class="md-ellipsis">
      
        Monitoring &amp; Observability
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Monitoring &amp; Observability">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#grafana-dashboard" class="md-nav__link">
    <span class="md-ellipsis">
      
        Grafana Dashboard
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#health-endpoint" class="md-nav__link">
    <span class="md-ellipsis">
      
        Health Endpoint
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      
        Troubleshooting
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Troubleshooting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#memories-decaying-too-fast" class="md-nav__link">
    <span class="md-ellipsis">
      
        Memories Decaying Too Fast
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#maintenance-not-running" class="md-nav__link">
    <span class="md-ellipsis">
      
        Maintenance Not Running
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#poor-search-results" class="md-nav__link">
    <span class="md-ellipsis">
      
        Poor Search Results
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#advanced-topics" class="md-nav__link">
    <span class="md-ellipsis">
      
        Advanced Topics
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Advanced Topics">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#soft-delete-recovery" class="md-nav__link">
    <span class="md-ellipsis">
      
        Soft-Delete Recovery
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Soft-Delete Recovery">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#recovery-process" class="md-nav__link">
    <span class="md-ellipsis">
      
        Recovery process
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bulk-import-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Bulk Import Considerations
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Bulk Import Considerations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#classification-behavior" class="md-nav__link">
    <span class="md-ellipsis">
      
        Classification behavior
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recommendations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Recommendations
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-decay-curves" class="md-nav__link">
    <span class="md-ellipsis">
      
        Custom Decay Curves
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Custom Decay Curves">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#half-life-adjustment" class="md-nav__link">
    <span class="md-ellipsis">
      
        Half-life adjustment
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#related-documentation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Related Documentation
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#acknowledgments" class="md-nav__link">
    <span class="md-ellipsis">
      
        Acknowledgments
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<!-- AI-FRIENDLY SUMMARY
System: Madeinoz Knowledge System Memory Decay (Feature 009)
Purpose: Automatic memory prioritization, decay scoring, and lifecycle management
Key Components: Importance classification (1-5), Stability classification (1-5), Decay scoring (0.0-1.0), Lifecycle states (5 states), Weighted search, Maintenance service

Key Commands:
- curl http://localhost:8000/health | jq '.maintenance': Check maintenance status
- curl http://localhost:8000/health | jq '.memory_counts.by_state': Check lifecycle state distribution
- curl http://localhost:9091/metrics | grep knowledge_decay: View decay metrics

Configuration: config/decay-config.yaml (copied into container at build time)
Environment Prefix: MADEINOZ_KNOWLEDGE_*
Metrics Port: 9091 (dev), 9090 (prod)
Grafana Dashboard: Memory Decay (http://localhost:3002/d/memory-decay-dashboard)

Importance Levels: TRIVIAL (1), LOW (2), MODERATE (3), HIGH (4), CORE (5)
Stability Levels: VOLATILE (1), LOW (2), MODERATE (3), HIGH (4), PERMANENT (5)
Lifecycle States: ACTIVE, DORMANT (90+ days), ARCHIVED (180+ days), EXPIRED (360+ days), SOFT_DELETED (90-day retention)

Permanent Memory Rule: importance >= 4 AND stability >= 4 = never decays

Search Weights (default): semantic 60%, recency 25%, importance 15%

Maintenance Schedule: Every 24 hours (configurable via schedule_interval_hours)
Batch Size: 500 memories per maintenance run
Max Duration: 10 minutes per maintenance run

Decay Thresholds: DORMANT (90 days, score >= 0.3), ARCHIVED (180 days, score >= 0.6), EXPIRED (360 days, score >= 0.9, importance <= 3)
--><h1 id="memory-decay-lifecycle-management">Memory Decay &amp; Lifecycle Management<a class="headerlink" href="#memory-decay-lifecycle-management" title="Permanent link"></a></h1>
<p>The Madeinoz Knowledge System includes an intelligent memory decay and lifecycle management system (Feature 009) that automatically prioritizes important memories, allows stale information to fade, and maintains sustainable graph growth over time.</p>
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link"></a></h2>
<div class="admonition info">
<p class="admonition-title">Why Memory Decay Matters</p>
<p>Without decay management, your knowledge graph would accumulate every piece of information indefinitely, leading to:</p>
<ul>
<li><strong>Bloated search results</strong> - Trivial temporary information crowds out important knowledge</li>
<li><strong>Degraded performance</strong> - More memories = slower queries and higher costs</li>
<li><strong>Stale data prominence</strong> - Old, irrelevant memories appear alongside current information</li>
</ul>
<p>Memory decay solves this by automatically:</p>
<ul>
<li><strong>Prioritizing important memories</strong> in search results</li>
<li><strong>Fading unused, unimportant information</strong> over time</li>
<li><strong>Archiving or deleting stale memories</strong> to maintain graph health</li>
</ul>
</div>
<h2 id="key-concepts">Key Concepts<a class="headerlink" href="#key-concepts" title="Permanent link"></a></h2>
<h3 id="importance-classification-1-5">Importance Classification (1-5)<a class="headerlink" href="#importance-classification-1-5" title="Permanent link"></a></h3>
<p>Every memory is assigned an <strong>importance score</strong> at ingestion time:</p>
<table>
<thead>
<tr>
<th>Level</th>
<th>Name</th>
<th>Description</th>
<th>Examples</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>5</strong></td>
<td>CORE</td>
<td>Fundamental to your identity or work</td>
<td>"I am allergic to shellfish", "My name is Stephen"</td>
</tr>
<tr>
<td><strong>4</strong></td>
<td>HIGH</td>
<td>Important to your current projects</td>
<td>"Working on payment feature this sprint", "Team uses TypeScript"</td>
</tr>
<tr>
<td><strong>3</strong></td>
<td>MODERATE</td>
<td>General knowledge, default</td>
<td>"Prefers dark mode", "Uses VS Code"</td>
</tr>
<tr>
<td><strong>2</strong></td>
<td>LOW</td>
<td>Useful but replaceable</td>
<td>"Read an article about Rust", "Tried a new library"</td>
</tr>
<tr>
<td><strong>1</strong></td>
<td>TRIVIAL</td>
<td>Ephemeral, can forget quickly</td>
<td>"Weather was nice today", "Had coffee at 9am"</td>
</tr>
</tbody>
</table>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/images/memory-decay-importance-stability-matrix.png" data-desc-position="bottom"><img alt="Importance vs Stability Matrix" src="../assets/images/memory-decay-importance-stability-matrix.png"></a></p>
<h4 id="how-it-works">How it works<a class="headerlink" href="#how-it-works" title="Permanent link"></a></h4>
<ul>
<li>The LLM analyzes the content and context during ingestion</li>
<li>Default fallback: <code>3</code> (MODERATE) if LLM unavailable</li>
<li>Higher importance = slower decay, prioritized in search</li>
</ul>
<div class="admonition info">
<p class="admonition-title">LLM Central Tendency Bias</p>
<p><strong>Problem:</strong> All LLMs exhibit a well-documented "central tendency bias" or "neutrality bias" - they systematically avoid extreme ratings and cluster toward middle options (like rating everything as importance=3/MODERATE).</p>
<p><strong>Research findings:</strong>
- This bias affects all LLM models regardless of provider
- RLHF (Reinforcement Learning from Human Feedback) can exacerbate the problem by pushing models toward over-neutralization
- Without intervention, most content gets rated as 3/3 regardless of actual importance</p>
<p><strong>Our mitigation:</strong> The classification prompt uses <strong>forced-choice techniques</strong> to overcome this bias:
- Explicit instructions to avoid neutral ratings
- Decision framework forcing 2/4 choices over default 3
- Specific examples for each importance level with test questions
- "When in doubt, choose 2 or 4" reinforcement</p>
<p><strong>Results:</strong> With forced-choice prompting:
- SSN  5/5 (correctly identified as CORE)
- "Wonder about weather"  1/1 (correctly identified as TRIVIAL)
- "Paris is capital of France"  2/5 (correctly identified as LOW but permanent)</p>
<p><strong>References:</strong>
- <a href="https://arxiv.org/html/2507.07188v2">Prompt Perturbations Reveal Human-Like Biases in LLMs</a>
- <a href="https://arxiv.org/html/2601.18642v1">FadeMem: Biologically-Inspired Forgetting</a>
- <a href="https://aclanthology.org/2024.naacl-long.378.pdf">Quantifying and Mitigating Label Bias in LLMs</a></p>
</div>
<h3 id="stability-classification-1-5">Stability Classification (1-5)<a class="headerlink" href="#stability-classification-1-5" title="Permanent link"></a></h3>
<p>Every memory is assigned a <strong>stability score</strong> predicting how likely it is to change:</p>
<table>
<thead>
<tr>
<th>Level</th>
<th>Name</th>
<th>Description</th>
<th>Examples</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>5</strong></td>
<td>PERMANENT</td>
<td>Never changes</td>
<td>"Birth date", "Education history"</td>
</tr>
<tr>
<td><strong>4</strong></td>
<td>HIGH</td>
<td>Rarely changes (months/years)</td>
<td>"Home address", "Job title"</td>
</tr>
<tr>
<td><strong>3</strong></td>
<td>MODERATE</td>
<td>Changes occasionally (weeks/months)</td>
<td>"Current project", "Team structure"</td>
</tr>
<tr>
<td><strong>2</strong></td>
<td>LOW</td>
<td>Changes regularly (days/weeks)</td>
<td>"Current sprint goals", "Reading list"</td>
</tr>
<tr>
<td><strong>1</strong></td>
<td>VOLATILE</td>
<td>Changes frequently (hours/days)</td>
<td>"Today's meeting notes", "Current task"</td>
</tr>
</tbody>
</table>
<h4 id="how-it-works_1">How it works<a class="headerlink" href="#how-it-works_1" title="Permanent link"></a></h4>
<ul>
<li>The LLM predicts volatility based on content type</li>
<li>Default fallback: <code>3</code> (MODERATE) if LLM unavailable</li>
<li>Higher stability = longer half-life, slower decay</li>
</ul>
<h3 id="decay-score-00-10">Decay Score (0.0-1.0)<a class="headerlink" href="#decay-score-00-10" title="Permanent link"></a></h3>
<p>The <strong>decay score</strong> represents how "stale" a memory has become:</p>
<ul>
<li><strong>0.0</strong> = Fresh (recently accessed or created)</li>
<li><strong>0.5</strong> = Somewhat stale</li>
<li><strong>1.0</strong> = Fully decayed (should be archived or deleted)</li>
</ul>
<h4 id="calculation">Calculation<a class="headerlink" href="#calculation" title="Permanent link"></a></h4>
<p>The decay score uses <strong>exponential decay</strong> (not linear), matching how human memory and real-world phenomena work:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>decay_score = 1 - exp(-  days_since_access)
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>where  = ln(2) / half_life_days
</span></code></pre></div>
<p><strong>Why exponential?</strong></p>
<ul>
<li><strong>Linear decay</strong> would lose value at constant rate (e.g., 0.56% per day), reaching 100% after 180 days</li>
<li><strong>Exponential decay</strong> follows natural patterns:</li>
<li>Radioactive decay</li>
<li>Drug elimination from the body</li>
<li>Human memory forgetting (Ebbinghaus curve)</li>
<li>Information relevance over time</li>
</ul>
<div class="admonition example">
<p class="admonition-title">Exponential vs Linear Decay (180-day half-life)</p>
<p><strong>Linear decay</strong> (constant 0.56% per day):
- Day 0: 0% decay
- Day 90: 50% decay
- Day 180: 100% decay (completely gone)</p>
<p><strong>Exponential decay</strong> (our implementation):
- Day 0: 0% decay
- Day 30: 11% decay
- Day 90: 29% decay
- Day 180: 50% decay (half-life)
- Day 360: 75% decay
- Day 540: 87.5% decay
- <strong>Never truly reaches 100%</strong></p>
</div>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/images/decay-exponential-curve.png" data-desc-position="bottom"><img alt="Exponential Decay Curve" src="../assets/images/decay-exponential-curve.png"></a></p>
<p><strong>Decay progression by half-life:</strong></p>
<table>
<thead>
<tr>
<th>Half-Lives</th>
<th>Decay Score</th>
<th>Remaining Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>0.00</td>
<td>100% (fresh)</td>
</tr>
<tr>
<td>1</td>
<td>0.50</td>
<td>50%</td>
</tr>
<tr>
<td>2</td>
<td>0.75</td>
<td>25%</td>
</tr>
<tr>
<td>3</td>
<td>0.875</td>
<td>12.5%</td>
</tr>
<tr>
<td>4</td>
<td>0.9375</td>
<td>6.25%</td>
</tr>
<tr>
<td>5</td>
<td>0.96875</td>
<td>3.125%</td>
</tr>
<tr>
<td>6</td>
<td>0.9844</td>
<td>1.56%</td>
</tr>
</tbody>
</table>
<p><strong>Impact of stability on half-life:</strong></p>
<p>The stability level adjusts the half-life:</p>
<table>
<thead>
<tr>
<th>Stability</th>
<th>Half-Life</th>
<th>Days to 75% Decay</th>
<th>Days to 87.5% Decay</th>
</tr>
</thead>
<tbody>
<tr>
<td>1 (VOLATILE)</td>
<td>60 days</td>
<td>120</td>
<td>180</td>
</tr>
<tr>
<td>2 (LOW)</td>
<td>120 days</td>
<td>240</td>
<td>360</td>
</tr>
<tr>
<td>3 (MODERATE)</td>
<td>180 days</td>
<td>360</td>
<td>540</td>
</tr>
<tr>
<td>4 (HIGH)</td>
<td>240 days</td>
<td>480</td>
<td>720</td>
</tr>
<tr>
<td>5 (PERMANENT)</td>
<td></td>
<td>Never</td>
<td>Never ( = 0)</td>
</tr>
</tbody>
</table>
<div class="admonition tip">
<p class="admonition-title">Key Insight</p>
<p>Exponential decay means memories lose value <strong>quickly at first</strong>, then <strong>decay slows down</strong> over time. This preserves older memories that have proven valuable (high stability) while allowing trivial information to fade rapidly.</p>
</div>
<h3 id="lifecycle-states">Lifecycle States<a class="headerlink" href="#lifecycle-states" title="Permanent link"></a></h3>
<p>Memories transition through <strong>5 lifecycle states</strong> based on decay score and time inactive:</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/images/memory-decay-lifecycle-timeline.png" data-desc-position="bottom"><img alt="Memory Lifecycle Timeline" src="../assets/images/memory-decay-lifecycle-timeline.png"></a></p>
<table>
<thead>
<tr>
<th>State</th>
<th>Description</th>
<th>Search Behavior</th>
<th>Recovery</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>ACTIVE</strong></td>
<td>Recently accessed, full relevance</td>
<td>Ranked normally</td>
<td>N/A</td>
</tr>
<tr>
<td><strong>DORMANT</strong></td>
<td>Not accessed for 90+ days</td>
<td>Lower priority</td>
<td>Auto-reactivates on access</td>
</tr>
<tr>
<td><strong>ARCHIVED</strong></td>
<td>Not accessed for 180+ days</td>
<td>Much lower priority</td>
<td>Auto-reactivates on access</td>
</tr>
<tr>
<td><strong>EXPIRED</strong></td>
<td>Not accessed for 360+ days</td>
<td>Excluded from search</td>
<td>Manual recovery only</td>
</tr>
<tr>
<td><strong>SOFT_DELETED</strong></td>
<td>Deleted, 90-day recovery window</td>
<td>Hidden from search</td>
<td>Admin recovery within 90 days</td>
</tr>
</tbody>
</table>
<p><strong>Permanent memories exempt:</strong> Importance 4 AND Stability 4 = PERMANENT (never decays)</p>
<h2 id="weighted-search-results">Weighted Search Results<a class="headerlink" href="#weighted-search-results" title="Permanent link"></a></h2>
<div class="admonition success">
<p class="admonition-title">Primary Benefit</p>
<p>The main user-facing benefit of memory decay is <strong>better search results</strong>.</p>
<p>Without decay: Results ranked purely by semantic similarity
With decay: Results ranked by <strong>semantic relevance (60%) + recency (25%) + importance (15%)</strong></p>
</div>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/images/memory-decay-weighted-search-formula.png" data-desc-position="bottom"><img alt="Weighted Search Formula" src="../assets/images/memory-decay-weighted-search-formula.png"></a></p>
<h3 id="how-search-ranking-works">How Search Ranking Works<a class="headerlink" href="#how-search-ranking-works" title="Permanent link"></a></h3>
<p>When you search for knowledge, results are scored using:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>weighted_score = (semantic_similarity  0.60) + (recency_boost  0.25) + (importance  0.15)
</span></code></pre></div>
<p><strong>Example:</strong></p>
<table>
<thead>
<tr>
<th>Memory</th>
<th>Semantic</th>
<th>Recency</th>
<th>Importance</th>
<th>Weighted Score</th>
<th>Rank</th>
</tr>
</thead>
<tbody>
<tr>
<td>"Project architecture"</td>
<td>0.85</td>
<td>0.90</td>
<td>0.80 (HIGH)</td>
<td><strong>0.8475</strong></td>
<td>1st</td>
</tr>
<tr>
<td>"Random blog post"</td>
<td>0.90</td>
<td>0.30</td>
<td>0.20 (LOW)</td>
<td><strong>0.6200</strong></td>
<td>2nd</td>
</tr>
<tr>
<td>"Today's weather"</td>
<td>0.95</td>
<td>0.95</td>
<td>0.20 (TRIVIAL)</td>
<td><strong>0.7150</strong></td>
<td>3rd</td>
</tr>
</tbody>
</table>
<p>Even though "Today's weather" has the highest semantic similarity (0.95), the "Project architecture" memory ranks first because it combines good semantic match with high importance and reasonable recency.</p>
<h3 id="configuring-search-weights">Configuring Search Weights<a class="headerlink" href="#configuring-search-weights" title="Permanent link"></a></h3>
<p>Edit <code>config/decay-config.yaml</code>:</p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="nt">decay</span><span class="p">:</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="w">  </span><span class="nt">weights</span><span class="p">:</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="w">    </span><span class="nt">semantic</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.60</span><span class="w">    </span><span class="c1"># Vector similarity weight</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="w">    </span><span class="nt">recency</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.25</span><span class="w">     </span><span class="c1"># Temporal freshness weight</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="w">    </span><span class="nt">importance</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.15</span><span class="w">  </span><span class="c1"># Importance score weight</span>
</span></code></pre></div>
<p><strong>Note:</strong> Weights must sum to 1.0. Adjust based on your priorities:</p>
<ul>
<li>Want recent stuff more? Increase <code>recency</code></li>
<li>Only care about accuracy? Increase <code>semantic</code></li>
<li>Always show important stuff? Increase <code>importance</code></li>
</ul>
<h2 id="lifecycle-management">Lifecycle Management<a class="headerlink" href="#lifecycle-management" title="Permanent link"></a></h2>
<h3 id="state-transitions">State Transitions<a class="headerlink" href="#state-transitions" title="Permanent link"></a></h3>
<p>Memories automatically transition states based on:</p>
<ol>
<li><strong>Time inactive</strong> (days since last access)</li>
<li><strong>Decay score</strong> (0.0-1.0 scale)</li>
<li><strong>Importance threshold</strong> (some states exempt important memories)</li>
</ol>
<p><strong>Default thresholds:</strong></p>
<table>
<thead>
<tr>
<th>Transition</th>
<th>Criteria</th>
</tr>
</thead>
<tbody>
<tr>
<td>ACTIVE  DORMANT</td>
<td>90 days inactive AND decay_score  0.3</td>
</tr>
<tr>
<td>DORMANT  ARCHIVED</td>
<td>180 days inactive AND decay_score  0.6</td>
</tr>
<tr>
<td>ARCHIVED  EXPIRED</td>
<td>360 days inactive AND decay_score  0.9 AND importance  3</td>
</tr>
<tr>
<td>EXPIRED  SOFT_DELETED</td>
<td>Maintenance runs (automatic)</td>
</tr>
</tbody>
</table>
<p><strong>Reactivation:</strong> Any memory access (search result, explicit retrieval) immediately transitions DORMANT or ARCHIVED memories back to ACTIVE.</p>
<h3 id="permanent-memory-protection">Permanent Memory Protection<a class="headerlink" href="#permanent-memory-protection" title="Permanent link"></a></h3>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/images/memory-decay-permanent-protection.png" data-desc-position="bottom"><img alt="Permanent Memory Protection" src="../assets/images/memory-decay-permanent-protection.png"></a></p>
<p>Memories with <strong>importance 4 AND stability 4</strong> are classified as <strong>PERMANENT</strong>:</p>
<ul>
<li>Never accumulate decay (decay_score always 0.0)</li>
<li>Never transition lifecycle states (always ACTIVE)</li>
<li>Exempt from archival and deletion</li>
<li>Prioritized in search results</li>
</ul>
<h4 id="use-cases">Use cases<a class="headerlink" href="#use-cases" title="Permanent link"></a></h4>
<ul>
<li>Core identity information (name, birthdate)</li>
<li>Critical facts (allergies, medical conditions)</li>
<li>Permanent career details (profession, degree)</li>
</ul>
<h2 id="maintenance-operations">Maintenance Operations<a class="headerlink" href="#maintenance-operations" title="Permanent link"></a></h2>
<h3 id="automatic-maintenance">Automatic Maintenance<a class="headerlink" href="#automatic-maintenance" title="Permanent link"></a></h3>
<p>The system runs <strong>automatic maintenance every 24 hours</strong> (configurable):</p>
<h4 id="what-it-does">What it does<a class="headerlink" href="#what-it-does" title="Permanent link"></a></h4>
<ol>
<li>Recalculates decay scores for all memories</li>
<li>Transitions memories between lifecycle states</li>
<li>Soft-deletes expired memories (with 90-day retention)</li>
<li>Generates health metrics for Grafana</li>
</ol>
<h4 id="how-to-verify">How to verify<a class="headerlink" href="#how-to-verify" title="Permanent link"></a></h4>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="c1"># Check last maintenance run</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>curl<span class="w"> </span>http://localhost:8000/health<span class="w"> </span><span class="p">|</span><span class="w"> </span>jq<span class="w"> </span><span class="s1">'.maintenance.last_run_at'</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="c1"># View maintenance metrics</span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>curl<span class="w"> </span>http://localhost:9091/metrics<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>knowledge_decay_maintenance
</span></code></pre></div>
<h3 id="manual-maintenance">Manual Maintenance<a class="headerlink" href="#manual-maintenance" title="Permanent link"></a></h3>
<p>Trigger maintenance on demand:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="c1"># Via MCP tool (if exposed)</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="o">{</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="w">  </span><span class="s2">"name"</span>:<span class="w"> </span><span class="s2">"run_maintenance"</span>,
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="w">  </span><span class="s2">"arguments"</span>:<span class="w"> </span><span class="o">{</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="w">    </span><span class="s2">"max_duration_minutes"</span>:<span class="w"> </span><span class="m">10</span>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="w">  </span><span class="o">}</span>
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="o">}</span>
</span></code></pre></div>
<h4 id="what-to-expect">What to expect<a class="headerlink" href="#what-to-expect" title="Permanent link"></a></h4>
<ul>
<li>Processes memories in batches of 500</li>
<li>Maximum runtime: 10 minutes (configurable)</li>
<li>Updates Prometheus metrics throughout</li>
</ul>
<h2 id="configuration">Configuration<a class="headerlink" href="#configuration" title="Permanent link"></a></h2>
<h3 id="configuration-file">Configuration File<a class="headerlink" href="#configuration-file" title="Permanent link"></a></h3>
<p><strong>Location:</strong> <code>config/decay-config.yaml</code></p>
<p>This file is copied into the Docker container at build time. Rebuild after changes:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="c1"># 1. Edit configuration</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>nano<span class="w"> </span>config/decay-config.yaml
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="c1"># 2. Rebuild Docker image</span>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>docker<span class="w"> </span>build<span class="w"> </span>-f<span class="w"> </span>docker/Dockerfile<span class="w"> </span>-t<span class="w"> </span>madeinoz-knowledge-system:local<span class="w"> </span>.
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="c1"># 3. Restart containers</span>
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a>bun<span class="w"> </span>run<span class="w"> </span>server-cli<span class="w"> </span>stop
</span><span id="__span-5-9"><a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a>bun<span class="w"> </span>run<span class="w"> </span>server-cli<span class="w"> </span>start<span class="w"> </span>--dev
</span></code></pre></div>
<h3 id="key-configuration-sections">Key Configuration Sections<a class="headerlink" href="#key-configuration-sections" title="Permanent link"></a></h3>
<h4 id="decay-thresholds">Decay Thresholds<a class="headerlink" href="#decay-thresholds" title="Permanent link"></a></h4>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="nt">decay</span><span class="p">:</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="w">  </span><span class="nt">thresholds</span><span class="p">:</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="w">    </span><span class="nt">dormant</span><span class="p">:</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="w">      </span><span class="nt">days</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">90</span><span class="w">           </span><span class="c1"># Days before ACTIVE  DORMANT</span>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="w">      </span><span class="nt">decay_score</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.3</span><span class="w">   </span><span class="c1"># Decay score threshold</span>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="w">    </span><span class="nt">archived</span><span class="p">:</span>
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="w">      </span><span class="nt">days</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">180</span><span class="w">          </span><span class="c1"># Days before DORMANT  ARCHIVED</span>
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a><span class="w">      </span><span class="nt">decay_score</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.6</span><span class="w">   </span><span class="c1"># Decay score threshold</span>
</span><span id="__span-6-9"><a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a><span class="w">    </span><span class="nt">expired</span><span class="p">:</span>
</span><span id="__span-6-10"><a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a><span class="w">      </span><span class="nt">days</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">360</span><span class="w">          </span><span class="c1"># Days before ARCHIVED  EXPIRED</span>
</span><span id="__span-6-11"><a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a><span class="w">      </span><span class="nt">decay_score</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.9</span><span class="w">   </span><span class="c1"># Decay score threshold</span>
</span><span id="__span-6-12"><a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a><span class="w">      </span><span class="nt">max_importance</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3</span><span class="w">  </span><span class="c1"># Only expire if importance  3</span>
</span></code></pre></div>
<p><strong>How thresholds work with half-life:</strong></p>
<p>Transitions require <strong>BOTH</strong> conditions to be met: minimum days inactive AND decay_score threshold.</p>
<p>With the default 180-day half-life for MODERATE memories:</p>
<table>
<thead>
<tr>
<th>Transition</th>
<th>Config (minimum)</th>
<th>Actual timing</th>
<th>Decay at minimum days</th>
</tr>
</thead>
<tbody>
<tr>
<td>ACTIVE  DORMANT</td>
<td>90 days + decay  0.3</td>
<td><strong>~93 days</strong></td>
<td>Day 90: decay  0.29</td>
</tr>
<tr>
<td>DORMANT  ARCHIVED</td>
<td>180 days + decay  0.6</td>
<td><strong>~238 days</strong></td>
<td>Day 180: decay  0.50</td>
</tr>
<tr>
<td>ARCHIVED  EXPIRED</td>
<td>360 days + decay  0.9</td>
<td><strong>~598 days</strong></td>
<td>Day 360: decay  0.75</td>
</tr>
</tbody>
</table>
<p>The days threshold is a <strong>minimum</strong>actual transitions occur when decay_score reaches the threshold.</p>
<h4 id="maintenance-schedule">Maintenance Schedule<a class="headerlink" href="#maintenance-schedule" title="Permanent link"></a></h4>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="nt">decay</span><span class="p">:</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="w">  </span><span class="nt">maintenance</span><span class="p">:</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="w">    </span><span class="nt">batch_size</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">500</span><span class="w">             </span><span class="c1"># Memories per batch</span>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="w">    </span><span class="nt">max_duration_minutes</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span><span class="w">    </span><span class="c1"># Maximum runtime</span>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="w">    </span><span class="nt">schedule_interval_hours</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">24</span><span class="w"> </span><span class="c1"># Hours between automatic runs (0 = disabled)</span>
</span></code></pre></div>
<p>Set to <code>0</code> to disable automatic maintenance (run manually only).</p>
<h4 id="search-weights">Search Weights<a class="headerlink" href="#search-weights" title="Permanent link"></a></h4>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="nt">decay</span><span class="p">:</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="w">  </span><span class="nt">weights</span><span class="p">:</span>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="w">    </span><span class="nt">semantic</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.60</span><span class="w">    </span><span class="c1"># Vector similarity</span>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="w">    </span><span class="nt">recency</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.25</span><span class="w">     </span><span class="c1"># Temporal freshness</span>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="w">    </span><span class="nt">importance</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.15</span><span class="w">  </span><span class="c1"># Importance score</span>
</span></code></pre></div>
<h2 id="monitoring-observability">Monitoring &amp; Observability<a class="headerlink" href="#monitoring-observability" title="Permanent link"></a></h2>
<h3 id="grafana-dashboard">Grafana Dashboard<a class="headerlink" href="#grafana-dashboard" title="Permanent link"></a></h3>
<p>The <strong>Memory Decay</strong> dashboard provides real-time visibility:</p>
<p><strong>Key Panels:</strong></p>
<ol>
<li><strong>Total Memories</strong> - Current memory count (excluding soft-deleted)</li>
<li><strong>Avg Decay Score</strong> - Average decay across all memories (0.0 = healthy)</li>
<li><strong>Maintenance</strong> - Shows "Completed" if maintenance ran successfully</li>
<li><strong>Total Purged</strong> - Count of soft-deleted memories permanently removed</li>
<li><strong>By State</strong> - Pie chart showing distribution across lifecycle states</li>
<li><strong>Avg Scores</strong> - Average importance and stability scores</li>
<li><strong>By Importance</strong> - Distribution across importance levels (TRIVIAL  CORE)</li>
</ol>
<p><strong>Access:</strong> <code>http://localhost:3002/d/memory-decay-dashboard</code> (dev)</p>
<h3 id="health-endpoint">Health Endpoint<a class="headerlink" href="#health-endpoint" title="Permanent link"></a></h3>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>curl<span class="w"> </span>http://localhost:8000/health<span class="w"> </span><span class="p">|</span><span class="w"> </span>jq
</span></code></pre></div>
<p><strong>Response:</strong></p>
<div class="language-json highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="p">{</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="w">  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"healthy"</span><span class="p">,</span>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="w">  </span><span class="nt">"maintenance"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="w">    </span><span class="nt">"last_run_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2026-01-29T14:00:00Z"</span><span class="p">,</span>
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="w">    </span><span class="nt">"last_duration_seconds"</span><span class="p">:</span><span class="w"> </span><span class="mf">45.2</span><span class="p">,</span>
</span><span id="__span-10-6"><a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a><span class="w">    </span><span class="nt">"last_run_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span>
</span><span id="__span-10-7"><a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-10-8"><a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a><span class="w">  </span><span class="nt">"memory_counts"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-10-9"><a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a><span class="w">    </span><span class="nt">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">65</span><span class="p">,</span>
</span><span id="__span-10-10"><a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a><span class="w">    </span><span class="nt">"by_state"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-10-11"><a id="__codelineno-10-11" name="__codelineno-10-11" href="#__codelineno-10-11"></a><span class="w">      </span><span class="nt">"ACTIVE"</span><span class="p">:</span><span class="w"> </span><span class="mi">65</span><span class="p">,</span>
</span><span id="__span-10-12"><a id="__codelineno-10-12" name="__codelineno-10-12" href="#__codelineno-10-12"></a><span class="w">      </span><span class="nt">"DORMANT"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
</span><span id="__span-10-13"><a id="__codelineno-10-13" name="__codelineno-10-13" href="#__codelineno-10-13"></a><span class="w">      </span><span class="nt">"ARCHIVED"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
</span><span id="__span-10-14"><a id="__codelineno-10-14" name="__codelineno-10-14" href="#__codelineno-10-14"></a><span class="w">      </span><span class="nt">"EXPIRED"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-10-15"><a id="__codelineno-10-15" name="__codelineno-10-15" href="#__codelineno-10-15"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-10-16"><a id="__codelineno-10-16" name="__codelineno-10-16" href="#__codelineno-10-16"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-10-17"><a id="__codelineno-10-17" name="__codelineno-10-17" href="#__codelineno-10-17"></a><span class="w">  </span><span class="nt">"decay_metrics"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-10-18"><a id="__codelineno-10-18" name="__codelineno-10-18" href="#__codelineno-10-18"></a><span class="w">    </span><span class="nt">"avg_decay_score"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span>
</span><span id="__span-10-19"><a id="__codelineno-10-19" name="__codelineno-10-19" href="#__codelineno-10-19"></a><span class="w">    </span><span class="nt">"avg_importance"</span><span class="p">:</span><span class="w"> </span><span class="mf">3.0</span><span class="p">,</span>
</span><span id="__span-10-20"><a id="__codelineno-10-20" name="__codelineno-10-20" href="#__codelineno-10-20"></a><span class="w">    </span><span class="nt">"avg_stability"</span><span class="p">:</span><span class="w"> </span><span class="mf">3.0</span>
</span><span id="__span-10-21"><a id="__codelineno-10-21" name="__codelineno-10-21" href="#__codelineno-10-21"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-10-22"><a id="__codelineno-10-22" name="__codelineno-10-22" href="#__codelineno-10-22"></a><span class="p">}</span>
</span></code></pre></div>
<h2 id="troubleshooting">Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permanent link"></a></h2>
<h3 id="memories-decaying-too-fast">Memories Decaying Too Fast<a class="headerlink" href="#memories-decaying-too-fast" title="Permanent link"></a></h3>
<p><strong>Symptom:</strong> Important memories becoming DORMANT or ARCHIVED quickly</p>
<p><strong>Solutions:</strong></p>
<ol>
<li>
<p><strong>Check importance classification:</strong>
   </p><div class="language-bash highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="c1"># View memory attributes via Neo4j Browser</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="c1"># http://localhost:7474</span>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>MATCH<span class="w"> </span><span class="o">(</span>n:Entity<span class="o">)</span>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a>WHERE<span class="w"> </span>n.name<span class="w"> </span>CONTAINS<span class="w"> </span><span class="s2">"important-thing"</span>
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a>RETURN<span class="w"> </span>n.name,<span class="w"> </span>n.attributes.importance,<span class="w"> </span>n.attributes.stability
</span></code></pre></div><p></p>
</li>
<li>
<p><strong>Adjust decay thresholds:</strong>
   </p><div class="language-yaml highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="c1"># config/decay-config.yaml</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="nt">decay</span><span class="p">:</span>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="w">  </span><span class="nt">base_half_life_days</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">60</span><span class="w">  </span><span class="c1"># Increase for slower decay</span>
</span></code></pre></div><p></p>
</li>
<li>
<p><strong>Mark important memories as permanent:</strong></p>
</li>
<li>Edit memory and set importance=4, stability=4</li>
<li>Or rebuild graph with corrected importance</li>
</ol>
<h3 id="maintenance-not-running">Maintenance Not Running<a class="headerlink" href="#maintenance-not-running" title="Permanent link"></a></h3>
<p><strong>Symptom:</strong> Grafana shows "Never" for Maintenance status</p>
<p><strong>Solutions:</strong></p>
<ol>
<li>
<p><strong>Check schedule configuration:</strong>
   </p><div class="language-yaml highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="c1"># config/decay-config.yaml</span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="nt">decay</span><span class="p">:</span>
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="w">  </span><span class="nt">maintenance</span><span class="p">:</span>
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="w">    </span><span class="nt">schedule_interval_hours</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">24</span><span class="w">  </span><span class="c1"># Ensure not 0</span>
</span></code></pre></div><p></p>
</li>
<li>
<p><strong>Check MCP server logs:</strong>
   </p><div class="language-bash highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>bun<span class="w"> </span>run<span class="w"> </span>server-cli<span class="w"> </span>logs<span class="w"> </span>--mcp<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-i<span class="w"> </span>maintenance
</span></code></pre></div><p></p>
</li>
<li>
<p><strong>Verify maintenance code loaded:</strong>
   </p><div class="language-bash highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>madeinoz-knowledge-graph-mcp-dev<span class="w"> </span>ls<span class="w"> </span>-la<span class="w"> </span>/app/mcp/src/utils/maintenance_service.py
</span></code></pre></div><p></p>
</li>
</ol>
<h3 id="poor-search-results">Poor Search Results<a class="headerlink" href="#poor-search-results" title="Permanent link"></a></h3>
<p><strong>Symptom:</strong> Trivial recent results outranking important older ones</p>
<p><strong>Solutions:</strong></p>
<ol>
<li>
<p><strong>Adjust search weights:</strong>
   </p><div class="language-yaml highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="c1"># config/decay-config.yaml</span>
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="nt">decay</span><span class="p">:</span>
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="w">  </span><span class="nt">weights</span><span class="p">:</span>
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span class="w">    </span><span class="nt">semantic</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.50</span><span class="w">    </span><span class="c1"># Decrease semantic weight</span>
</span><span id="__span-16-5"><a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a><span class="w">    </span><span class="nt">recency</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.20</span><span class="w">     </span><span class="c1"># Decrease recency weight</span>
</span><span id="__span-16-6"><a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a><span class="w">    </span><span class="nt">importance</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.30</span><span class="w">  </span><span class="c1"># Increase importance weight</span>
</span></code></pre></div><p></p>
</li>
<li>
<p><strong>Ensure importance classification is working:</strong>
   </p><div class="language-bash highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="c1"># Check classification metrics</span>
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>curl<span class="w"> </span>http://localhost:9091/metrics<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>knowledge_classification
</span></code></pre></div><p></p>
</li>
<li>
<p><strong>Verify decay scores are being calculated:</strong>
   </p><div class="language-bash highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>curl<span class="w"> </span>http://localhost:9091/metrics<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>knowledge_decay_score_avg
</span></code></pre></div><p></p>
</li>
</ol>
<h2 id="advanced-topics">Advanced Topics<a class="headerlink" href="#advanced-topics" title="Permanent link"></a></h2>
<h3 id="soft-delete-recovery">Soft-Delete Recovery<a class="headerlink" href="#soft-delete-recovery" title="Permanent link"></a></h3>
<p>Memories in <code>SOFT_DELETED</code> state can be recovered within 90 days:</p>
<div class="language-cypher highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="err">#</span><span class="w"> </span><span class="n">Via</span><span class="w"> </span><span class="n">Neo4j</span><span class="w"> </span><span class="n">Browser</span>
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="p">:</span><span class="n">Entity</span><span class="p">)</span>
</span><span id="__span-19-3"><a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">n</span><span class="p">.</span><span class="n">attributes</span><span class="p">.</span><span class="n">soft_deleted_at</span><span class="w"> </span><span class="n">IS</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span>
</span><span id="__span-19-4"><a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a><span class="w">  </span><span class="n">AND</span><span class="w"> </span><span class="n">datetime</span><span class="p">()</span><span class="w"> </span><span class="p">&gt;</span><span class="w"> </span><span class="n">datetime</span><span class="p">(</span><span class="n">n</span><span class="p">.</span><span class="n">attributes</span><span class="p">.</span><span class="n">soft_deleted_at</span><span class="p">)</span><span class="w"> </span><span class="err">+</span><span class="w"> </span><span class="n">duration</span><span class="p">(</span><span class="s">'P90D'</span><span class="p">)</span>
</span><span id="__span-19-5"><a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">n</span><span class="p">.</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="p">.</span><span class="n">attributes</span><span class="p">.</span><span class="n">soft_deleted_at</span>
</span></code></pre></div>
<h4 id="recovery-process">Recovery process<a class="headerlink" href="#recovery-process" title="Permanent link"></a></h4>
<ol>
<li>Identify memory to recover via query above</li>
<li>Clear soft_deleted_at attribute</li>
<li>Set lifecycle_state to "ARCHIVED"</li>
<li>Memory will be re-evaluated on next maintenance</li>
</ol>
<h3 id="bulk-import-considerations">Bulk Import Considerations<a class="headerlink" href="#bulk-import-considerations" title="Permanent link"></a></h3>
<p>When importing large amounts of data:</p>
<h4 id="classification-behavior">Classification behavior<a class="headerlink" href="#classification-behavior" title="Permanent link"></a></h4>
<ul>
<li>All memories start with default importance=3, stability=3</li>
<li>Background LLM classification refines scores asynchronously</li>
<li>First maintenance run after import will properly classify everything</li>
</ul>
<h4 id="recommendations">Recommendations<a class="headerlink" href="#recommendations" title="Permanent link"></a></h4>
<ol>
<li>Import in batches of 1000-5000 memories</li>
<li>Wait for maintenance to run between batches</li>
<li>Monitor classification metrics for success rate</li>
<li>Adjust defaults if LLM unavailable:
   <div class="language-yaml highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="c1"># config/decay-config.yaml</span>
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="nt">classification</span><span class="p">:</span>
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span class="w">  </span><span class="nt">default_importance</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3</span><span class="w">  </span><span class="c1"># Set based on your data</span>
</span><span id="__span-20-4"><a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="w">  </span><span class="nt">default_stability</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3</span>
</span></code></pre></div></li>
</ol>
<h3 id="custom-decay-curves">Custom Decay Curves<a class="headerlink" href="#custom-decay-curves" title="Permanent link"></a></h3>
<p>For specialized use cases, you can implement custom decay logic:</p>
<h4 id="half-life-adjustment">Half-life adjustment<a class="headerlink" href="#half-life-adjustment" title="Permanent link"></a></h4>
<ul>
<li>Base half-life: 180 days (configurable)</li>
<li>Stability factor: Multiplier based on stability level</li>
</ul>
<p><strong>Stability multiplier examples:</strong></p>
<p>The stability level adjusts the base half-life:</p>
<ul>
<li>Stability 1 (VOLATILE): 0.33 half-life (60 days)</li>
<li>Stability 3 (MODERATE): 1.0 half-life (180 days)</li>
<li>Stability 5 (PERMANENT):  half-life (never decays)</li>
</ul>
<p><strong>See implementation:</strong> <code>docker/patches/memory_decay.py</code> - <code>calculate_half_life()</code></p>
<h2 id="related-documentation">Related Documentation<a class="headerlink" href="#related-documentation" title="Permanent link"></a></h2>
<ul>
<li><a href="../reference/observability.html">Observability &amp; Metrics</a> - Prometheus metrics reference</li>
<li><a href="../reference/configuration.html">Configuration Reference</a> - Full configuration guide</li>
<li><a href="monitoring.html">Monitoring Guide</a> - Grafana dashboard setup</li>
</ul>
<h2 id="acknowledgments">Acknowledgments<a class="headerlink" href="#acknowledgments" title="Permanent link"></a></h2>
<p>The memory decay scoring and lifecycle management concepts in this feature were inspired by discussions in the <a href="https://github.com/danielmiessler/Personal_AI_Infrastructure/discussions/527">Personal AI_Infrastructure community</a>, specifically around <a href="https://github.com/danielmiessler/Personal_AI_Infrastructure/discussions/527">PAI Discussion #527: Knowledge System Long-term Memory Strategy</a>.</p>
<p>The implementation adapts these concepts for a Graphiti-based knowledge graph, with automated importance/stability classification, weighted search scoring, and lifecycle state transitions.</p>







  
  






                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer">
        
          
          <a href="advanced.html" class="md-footer__link md-footer__link--prev" aria-label="Previous: Advanced">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Advanced
              </div>
            </div>
          </a>
        
        
          
          <a href="monitoring.html" class="md-footer__link md-footer__link--next" aria-label="Next: Monitoring">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Monitoring
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"></path></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/madeinoz67/madeinoz-knowledge-system" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "..", "features": ["navigation.sections", "navigation.expand", "navigation.top", "navigation.footer", "search.suggest", "search.highlight", "content.code.copy", "content.tabs.link", "content.lightbox"], "search": "../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  
<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(()=>{ lightbox.reload(); });
</script></body></html>